import{g as He,c as he,a as Je,j as p,b as qe,p as Qe,u as Ae,r as A,d as Re}from"./index-155f02a8.js";import{u as D}from"./index-c85722fe.js";var je={exports:{}};const Ze={},Xe=Object.freeze(Object.defineProperty({__proto__:null,default:Ze},Symbol.toStringTag,{value:"Module"})),ce=He(Xe);var Oe={exports:{}};const Ye=/^\u0001ACTION ([^\u0001]+)\u0001$/,Ke=/^(justinfan)(\d+$)/,et=/\\([sn:r\\])/g,tt=/([ \n;\r\\])/g,me={s:" ",n:"",":":";",r:""},fe={" ":"s","\n":"n",";":":","\r":"r"},st=new RegExp("^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$","i"),ot=/[|\\^$*+?:#]/,ne=Oe.exports={get:(e,t)=>typeof e>"u"?t:e,hasOwn:(e,t)=>({}).hasOwnProperty.call(e,t),promiseDelay:e=>new Promise(t=>setTimeout(t,e)),isFinite:e=>isFinite(e)&&!isNaN(parseFloat(e)),toNumber(e,t){if(e===null)return 0;const s=Math.pow(10,ne.isFinite(t)?t:0);return Math.round(e*s)/s},isInteger:e=>!isNaN(ne.toNumber(e,0)),isRegex:e=>ot.test(e),isURL:e=>st.test(e),justinfan:()=>`justinfan${Math.floor(Math.random()*8e4+1e3)}`,isJustinfan:e=>Ke.test(e),channel(e){const t=(e||"").toLowerCase();return t[0]==="#"?t:"#"+t},username(e){const t=(e||"").toLowerCase();return t[0]==="#"?t.slice(1):t},token:e=>e?e.toLowerCase().replace("oauth:",""):"",password(e){const t=ne.token(e);return t?`oauth:${t}`:""},actionMessage:e=>e.match(Ye),replaceAll(e,t){if(e===null||typeof e>"u")return null;for(const s in t)e=e.replace(new RegExp(s,"g"),t[s]);return e},unescapeHtml:e=>e.replace(/\\&amp\\;/g,"&").replace(/\\&lt\\;/g,"<").replace(/\\&gt\\;/g,">").replace(/\\&quot\\;/g,'"').replace(/\\&#039\\;/g,"'"),unescapeIRC(e){return!e||typeof e!="string"||!e.includes("\\")?e:e.replace(et,(t,s)=>s in me?me[s]:s)},escapeIRC(e){return!e||typeof e!="string"?e:e.replace(tt,(t,s)=>s in fe?`\\${fe[s]}`:s)},addWord:(e,t)=>e.length?e+" "+t:e+t,splitLine(e,t){let s=e.substring(0,t).lastIndexOf(" ");return s===-1&&(s=t-1),[e.substring(0,s),e.substring(s+1)]},extractNumber(e){const t=e.split(" ");for(let s=0;s<t.length;s++)if(ne.isInteger(t[s]))return~~t[s];return 0},formatDate(e){let t=e.getHours(),s=e.getMinutes();return t=(t<10?"0":"")+t,s=(s<10?"0":"")+s,`${t}:${s}`},inherits(e,t){e.super_=t;const s=function(){};s.prototype=t.prototype,e.prototype=new s,e.prototype.constructor=e},isNode(){try{return typeof process=="object"&&Object.prototype.toString.call(process)==="[object process]"}catch{}return!1}};var oe=Oe.exports;const it=ce,pe=oe;var nt=function(t,s){let o=t.url!==void 0?t.url:t.uri;if(pe.isURL(o)||(o=`https://api.twitch.tv/kraken${o[0]==="/"?o:`/${o}`}`),pe.isNode()){const n=Object.assign({method:"GET",json:!0},t);if(n.qs){const g=new URLSearchParams(n.qs);o+=`?${g}`}const a={};"fetchAgent"in this.opts.connection&&(a.agent=this.opts.connection.fetchAgent);const d=it(o,{...a,method:n.method,headers:n.headers,body:n.body});let h={};d.then(g=>(h={statusCode:g.status,headers:g.headers},n.json?g.json():g.text())).then(g=>s(null,h,g),g=>s(g,h,null))}else{const n=Object.assign({method:"GET",headers:{}},t,{url:o}),a=new XMLHttpRequest;a.open(n.method,n.url,!0);for(const d in n.headers)a.setRequestHeader(d,n.headers[d]);a.responseType="json",a.addEventListener("load",d=>{a.readyState===4&&(a.status!==200?s(a.status,null,null):s(null,null,a.response))}),a.send()}};const w=oe;function ge(e,t){return e=w.channel(e),t=w.get(t,30),this._sendCommand(null,e,`/followers ${t}`,(s,o)=>{this.once("_promiseFollowers",n=>{n?o(n):s([e,~~t])})})}function be(e){return e=w.channel(e),this._sendCommand(null,e,"/followersoff",(t,s)=>{this.once("_promiseFollowersoff",o=>{o?s(o):t([e])})})}function _e(e){return e=w.channel(e),this._sendCommand(null,null,`PART ${e}`,(t,s)=>{this.once("_promisePart",o=>{o?s(o):t([e])})})}function ve(e){return e=w.channel(e),this._sendCommand(null,e,"/r9kbeta",(t,s)=>{this.once("_promiseR9kbeta",o=>{o?s(o):t([e])})})}function we(e){return e=w.channel(e),this._sendCommand(null,e,"/r9kbetaoff",(t,s)=>{this.once("_promiseR9kbetaoff",o=>{o?s(o):t([e])})})}function xe(e,t){return e=w.channel(e),t=w.get(t,300),this._sendCommand(null,e,`/slow ${t}`,(s,o)=>{this.once("_promiseSlow",n=>{n?o(n):s([e,~~t])})})}function ye(e){return e=w.channel(e),this._sendCommand(null,e,"/slowoff",(t,s)=>{this.once("_promiseSlowoff",o=>{o?s(o):t([e])})})}var rt={action(e,t){return e=w.channel(e),t=`ACTION ${t}`,this._sendMessage(this._getPromiseDelay(),e,t,(s,o)=>{s([e,t])})},ban(e,t,s){return e=w.channel(e),t=w.username(t),s=w.get(s,""),this._sendCommand(null,e,`/ban ${t} ${s}`,(o,n)=>{this.once("_promiseBan",a=>{a?n(a):o([e,t,s])})})},clear(e){return e=w.channel(e),this._sendCommand(null,e,"/clear",(t,s)=>{this.once("_promiseClear",o=>{o?s(o):t([e])})})},color(e,t){return t=w.get(t,e),this._sendCommand(null,"#tmijs",`/color ${t}`,(s,o)=>{this.once("_promiseColor",n=>{n?o(n):s([t])})})},commercial(e,t){return e=w.channel(e),t=w.get(t,30),this._sendCommand(null,e,`/commercial ${t}`,(s,o)=>{this.once("_promiseCommercial",n=>{n?o(n):s([e,~~t])})})},deletemessage(e,t){return e=w.channel(e),this._sendCommand(null,e,`/delete ${t}`,(s,o)=>{this.once("_promiseDeletemessage",n=>{n?o(n):s([e])})})},emoteonly(e){return e=w.channel(e),this._sendCommand(null,e,"/emoteonly",(t,s)=>{this.once("_promiseEmoteonly",o=>{o?s(o):t([e])})})},emoteonlyoff(e){return e=w.channel(e),this._sendCommand(null,e,"/emoteonlyoff",(t,s)=>{this.once("_promiseEmoteonlyoff",o=>{o?s(o):t([e])})})},followersonly:ge,followersmode:ge,followersonlyoff:be,followersmodeoff:be,host(e,t){return e=w.channel(e),t=w.username(t),this._sendCommand(2e3,e,`/host ${t}`,(s,o)=>{this.once("_promiseHost",(n,a)=>{n?o(n):s([e,t,~~a])})})},join(e){return e=w.channel(e),this._sendCommand(void 0,null,`JOIN ${e}`,(t,s)=>{const o="_promiseJoin";let n=!1;const a=(h,g)=>{e===w.channel(g)&&(this.removeListener(o,a),n=!0,h?s(h):t([e]))};this.on(o,a);const d=this._getPromiseDelay();w.promiseDelay(d).then(()=>{n||this.emit(o,"No response from Twitch.",e)})})},mod(e,t){return e=w.channel(e),t=w.username(t),this._sendCommand(null,e,`/mod ${t}`,(s,o)=>{this.once("_promiseMod",n=>{n?o(n):s([e,t])})})},mods(e){return e=w.channel(e),this._sendCommand(null,e,"/mods",(t,s)=>{this.once("_promiseMods",(o,n)=>{o?s(o):(n.forEach(a=>{this.moderators[e]||(this.moderators[e]=[]),this.moderators[e].includes(a)||this.moderators[e].push(a)}),t(n))})})},part:_e,leave:_e,ping(){return this._sendCommand(null,null,"PING",(e,t)=>{this.latency=new Date,this.pingTimeout=setTimeout(()=>{this.ws!==null&&(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout))},w.get(this.opts.connection.timeout,9999)),this.once("_promisePing",s=>e([parseFloat(s)]))})},r9kbeta:ve,r9kmode:ve,r9kbetaoff:we,r9kmodeoff:we,raw(e){return this._sendCommand(null,null,e,(t,s)=>{t([e])})},say(e,t){return e=w.channel(e),t.startsWith(".")&&!t.startsWith("..")||t.startsWith("/")||t.startsWith("\\")?t.substr(1,3)==="me "?this.action(e,t.substr(4)):this._sendCommand(null,e,t,(s,o)=>{s([e,t])}):this._sendMessage(this._getPromiseDelay(),e,t,(s,o)=>{s([e,t])})},slow:xe,slowmode:xe,slowoff:ye,slowmodeoff:ye,subscribers(e){return e=w.channel(e),this._sendCommand(null,e,"/subscribers",(t,s)=>{this.once("_promiseSubscribers",o=>{o?s(o):t([e])})})},subscribersoff(e){return e=w.channel(e),this._sendCommand(null,e,"/subscribersoff",(t,s)=>{this.once("_promiseSubscribersoff",o=>{o?s(o):t([e])})})},timeout(e,t,s,o){return e=w.channel(e),t=w.username(t),s!==null&&!w.isInteger(s)&&(o=s,s=300),s=w.get(s,300),o=w.get(o,""),this._sendCommand(null,e,`/timeout ${t} ${s} ${o}`,(n,a)=>{this.once("_promiseTimeout",d=>{d?a(d):n([e,t,~~s,o])})})},unban(e,t){return e=w.channel(e),t=w.username(t),this._sendCommand(null,e,`/unban ${t}`,(s,o)=>{this.once("_promiseUnban",n=>{n?o(n):s([e,t])})})},unhost(e){return e=w.channel(e),this._sendCommand(2e3,e,"/unhost",(t,s)=>{this.once("_promiseUnhost",o=>{o?s(o):t([e])})})},unmod(e,t){return e=w.channel(e),t=w.username(t),this._sendCommand(null,e,`/unmod ${t}`,(s,o)=>{this.once("_promiseUnmod",n=>{n?o(n):s([e,t])})})},unvip(e,t){return e=w.channel(e),t=w.username(t),this._sendCommand(null,e,`/unvip ${t}`,(s,o)=>{this.once("_promiseUnvip",n=>{n?o(n):s([e,t])})})},vip(e,t){return e=w.channel(e),t=w.username(t),this._sendCommand(null,e,`/vip ${t}`,(s,o)=>{this.once("_promiseVip",n=>{n?o(n):s([e,t])})})},vips(e){return e=w.channel(e),this._sendCommand(null,e,"/vips",(t,s)=>{this.once("_promiseVips",(o,n)=>{o?s(o):t(n)})})},whisper(e,t){return e=w.username(e),e===this.getUsername()?Promise.reject("Cannot send a whisper to the same account."):this._sendCommand(null,"#tmijs",`/w ${e} ${t}`,(s,o)=>{this.once("_promiseWhisper",n=>{n&&o(n)})}).catch(s=>{if(s&&typeof s=="string"&&s.indexOf("No response from Twitch.")!==0)throw s;const o=w.channel(e),n=Object.assign({"message-type":"whisper","message-id":null,"thread-id":null,username:this.getUsername()},this.globaluserstate);return this.emits(["whisper","message"],[[o,n,t,!0],[o,n,t,!0]]),[e,t]})}};function R(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var at=R;R.EventEmitter=R;R.prototype._events=void 0;R.prototype._maxListeners=void 0;R.defaultMaxListeners=10;R.prototype.setMaxListeners=function(e){if(!lt(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this};R.prototype.emit=function(e){var t,s,o,n,a,d;if(this._events||(this._events={}),e==="error"&&(!this._events.error||se(this._events.error)&&!this._events.error.length))throw t=arguments[1],t instanceof Error?t:TypeError('Uncaught, unspecified "error" event.');if(s=this._events[e],Pe(s))return!1;if(B(s))switch(arguments.length){case 1:s.call(this);break;case 2:s.call(this,arguments[1]);break;case 3:s.call(this,arguments[1],arguments[2]);break;default:n=Array.prototype.slice.call(arguments,1),s.apply(this,n)}else if(se(s))for(n=Array.prototype.slice.call(arguments,1),d=s.slice(),o=d.length,a=0;a<o;a++)d[a].apply(this,n);return!0};R.prototype.addListener=function(e,t){var s;if(!B(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,B(t.listener)?t.listener:t),this._events[e]?se(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,se(this._events[e])&&!this._events[e].warned&&(Pe(this._maxListeners)?s=R.defaultMaxListeners:s=this._maxListeners,s&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),typeof console.trace=="function"&&console.trace())),this};R.prototype.on=R.prototype.addListener;R.prototype.once=function(e,t){if(!B(t))throw TypeError("listener must be a function");var s=!1;if(this._events.hasOwnProperty(e)&&e.charAt(0)==="_"){var o=1,n=e;for(var a in this._events)this._events.hasOwnProperty(a)&&a.startsWith(n)&&o++;e=e+o}function d(){e.charAt(0)==="_"&&!isNaN(e.substr(e.length-1))&&(e=e.substring(0,e.length-1)),this.removeListener(e,d),s||(s=!0,t.apply(this,arguments))}return d.listener=t,this.on(e,d),this};R.prototype.removeListener=function(e,t){var s,o,n,a;if(!B(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=this._events[e],n=s.length,o=-1,s===t||B(s.listener)&&s.listener===t){if(delete this._events[e],this._events.hasOwnProperty(e+"2")&&e.charAt(0)==="_"){var d=e;for(var h in this._events)this._events.hasOwnProperty(h)&&h.startsWith(d)&&(isNaN(parseInt(h.substr(h.length-1)))||(this._events[e+parseInt(h.substr(h.length-1)-1)]=this._events[h],delete this._events[h]));this._events[e]=this._events[e+"1"],delete this._events[e+"1"]}this._events.removeListener&&this.emit("removeListener",e,t)}else if(se(s)){for(a=n;a-- >0;)if(s[a]===t||s[a].listener&&s[a].listener===t){o=a;break}if(o<0)return this;s.length===1?(s.length=0,delete this._events[e]):s.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this};R.prototype.removeAllListeners=function(e){var t,s;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[e]&&delete this._events[e],this;if(arguments.length===0){for(t in this._events)t!=="removeListener"&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(s=this._events[e],B(s))this.removeListener(e,s);else if(s)for(;s.length;)this.removeListener(e,s[s.length-1]);return delete this._events[e],this};R.prototype.listeners=function(e){var t;return!this._events||!this._events[e]?t=[]:B(this._events[e])?t=[this._events[e]]:t=this._events[e].slice(),t};R.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(B(t))return 1;if(t)return t.length}return 0};R.listenerCount=function(e,t){return e.listenerCount(t)};function B(e){return typeof e=="function"}function lt(e){return typeof e=="number"}function se(e){return typeof e=="object"&&e!==null}function Pe(e){return e===void 0}const ct=oe;let Ue="info";const Ce={trace:0,debug:1,info:2,warn:3,error:4,fatal:5};function X(e){return function(t){Ce[e]>=Ce[Ue]&&console.log(`[${ct.formatDate(new Date)}] ${e}: ${t}`)}}var ut={setLevel(e){Ue=e},trace:X("trace"),debug:X("debug"),info:X("info"),warn:X("warn"),error:X("error"),fatal:X("fatal")};const ae=oe,Y=/\S+/g;function le(e,t,s=",",o="/",n){const a=e[t];if(a===void 0)return e;const d=typeof a=="string";if(e[t+"-raw"]=d?a:null,a===!0)return e[t]=null,e;if(e[t]={},d){const h=a.split(s);for(let g=0;g<h.length;g++){const y=h[g].split(o);let u=y[1];n!==void 0&&u&&(u=u.split(n)),e[t][y[0]]=u||null}}return e}var dt={badges:e=>le(e,"badges"),badgeInfo:e=>le(e,"badge-info"),emotes:e=>le(e,"emotes","/",":",","),emoteRegex(e,t,s,o){Y.lastIndex=0;const n=new RegExp("(\\b|^|\\s)"+ae.unescapeHtml(t)+"(\\b|$|\\s)");let a;for(;(a=Y.exec(e))!==null;)n.test(a[0])&&(o[s]=o[s]||[],o[s].push([a.index,Y.lastIndex-1]))},emoteString(e,t,s,o){Y.lastIndex=0;let n;for(;(n=Y.exec(e))!==null;)n[0]===ae.unescapeHtml(t)&&(o[s]=o[s]||[],o[s].push([n.index,Y.lastIndex-1]))},transformEmotes(e){let t="";return Object.keys(e).forEach(s=>{t=`${t+s}:`,e[s].forEach(o=>t=`${t+o.join("-")},`),t=`${t.slice(0,-1)}/`}),t.slice(0,-1)},formTags(e){const t=[];for(const s in e){const o=ae.escapeIRC(e[s]);t.push(`${s}=${o}`)}return`@${t.join(";")}`},msg(e){const t={raw:e,tags:{},prefix:null,command:null,params:[]};let s=0,o=0;if(e.charCodeAt(0)===64){if(o=e.indexOf(" "),o===-1)return null;const n=e.slice(1,o).split(";");for(let a=0;a<n.length;a++){const d=n[a],h=d.split("=");t.tags[h[0]]=d.substring(d.indexOf("=")+1)||!0}s=o+1}for(;e.charCodeAt(s)===32;)s++;if(e.charCodeAt(s)===58){if(o=e.indexOf(" ",s),o===-1)return null;for(t.prefix=e.slice(s+1,o),s=o+1;e.charCodeAt(s)===32;)s++}if(o=e.indexOf(" ",s),o===-1)return e.length>s?(t.command=e.slice(s),t):null;for(t.command=e.slice(s,o),s=o+1;e.charCodeAt(s)===32;)s++;for(;s<e.length;){if(o=e.indexOf(" ",s),e.charCodeAt(s)===58){t.params.push(e.slice(s+1));break}if(o!==-1){for(t.params.push(e.slice(s,o)),s=o+1;e.charCodeAt(s)===32;)s++;continue}if(o===-1){t.params.push(e.slice(s));break}}return t}};class ht{constructor(t){this.queue=[],this.index=0,this.defaultDelay=t===void 0?3e3:t}add(t,s){this.queue.push({fn:t,delay:s})}next(){const t=this.index++,s=this.queue[t];if(!s)return;const o=this.queue[this.index];if(s.fn(),o){const n=o.delay===void 0?this.defaultDelay:o.delay;setTimeout(()=>this.next(),n)}}}var mt=ht;(function(e){const t=typeof he<"u"?he:typeof window<"u"?window:{},s=t.WebSocket||ce,o=t.fetch||ce,n=nt,a=rt,d=at.EventEmitter,h=ut,g=dt,y=mt,u=oe;let k=!1;const _=function C(r){if(!(this instanceof C))return new C(r);this.opts=u.get(r,{}),this.opts.channels=this.opts.channels||[],this.opts.connection=this.opts.connection||{},this.opts.identity=this.opts.identity||{},this.opts.options=this.opts.options||{},this.clientId=u.get(this.opts.options.clientId,null),this._globalDefaultChannel=u.channel(u.get(this.opts.options.globalDefaultChannel,"#tmijs")),this._skipMembership=u.get(this.opts.options.skipMembership,!1),this._skipUpdatingEmotesets=u.get(this.opts.options.skipUpdatingEmotesets,!1),this._updateEmotesetsTimer=null,this._updateEmotesetsTimerDelay=u.get(this.opts.options.updateEmotesetsTimer,6e4),this.maxReconnectAttempts=u.get(this.opts.connection.maxReconnectAttempts,1/0),this.maxReconnectInterval=u.get(this.opts.connection.maxReconnectInterval,3e4),this.reconnect=u.get(this.opts.connection.reconnect,!0),this.reconnectDecay=u.get(this.opts.connection.reconnectDecay,1.5),this.reconnectInterval=u.get(this.opts.connection.reconnectInterval,1e3),this.reconnecting=!1,this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.secure=u.get(this.opts.connection.secure,!this.opts.connection.server&&!this.opts.connection.port),this.emotes="",this.emotesets={},this.channels=[],this.currentLatency=0,this.globaluserstate={},this.lastJoined="",this.latency=new Date,this.moderators={},this.pingLoop=null,this.pingTimeout=null,this.reason="",this.username="",this.userstate={},this.wasCloseCalled=!1,this.ws=null;let i="error";this.opts.options.debug&&(i="info"),this.log=this.opts.logger||h;try{h.setLevel(i)}catch{}this.opts.channels.forEach((l,x,m)=>m[x]=u.channel(l)),d.call(this),this.setMaxListeners(0)};u.inherits(_,d);for(const C in a)_.prototype[C]=a[C];_.prototype.emits=function(r,i){for(let l=0;l<r.length;l++){const x=l<i.length?i[l]:i[i.length-1];this.emit.apply(this,[r[l]].concat(x))}},_.prototype.api=function(...C){k||(this.log.warn("Client.prototype.api is deprecated and will be removed for version 2.0.0"),k=!0),n(...C)},_.prototype.handleMessage=function(r){if(!r)return;this.listenerCount("raw_message")&&this.emit("raw_message",JSON.parse(JSON.stringify(r)),r);const i=u.channel(u.get(r.params[0],null));let l=u.get(r.params[1],null);const x=u.get(r.tags["msg-id"],null),m=r.tags=g.badges(g.badgeInfo(g.emotes(r.tags)));for(const c in m){if(c==="emote-sets"||c==="ban-duration"||c==="bits")continue;let f=m[c];typeof f=="boolean"?f=null:f==="1"?f=!0:f==="0"?f=!1:typeof f=="string"&&(f=u.unescapeIRC(f)),m[c]=f}if(r.prefix===null)switch(r.command){case"PING":this.emit("ping"),this._isConnected()&&this.ws.send("PONG");break;case"PONG":{const c=new Date;this.currentLatency=(c.getTime()-this.latency.getTime())/1e3,this.emits(["pong","_promisePing"],[[this.currentLatency]]),clearTimeout(this.pingTimeout);break}default:this.log.warn(`Could not parse message with no prefix:
${JSON.stringify(r,null,4)}`);break}else if(r.prefix==="tmi.twitch.tv")switch(r.command){case"002":case"003":case"004":case"372":case"375":case"CAP":break;case"001":this.username=r.params[0];break;case"376":{this.log.info("Connected to server."),this.userstate[this._globalDefaultChannel]={},this.emits(["connected","_promiseConnect"],[[this.server,this.port],[null]]),this.reconnections=0,this.reconnectTimer=this.reconnectInterval,this.pingLoop=setInterval(()=>{this._isConnected()&&this.ws.send("PING"),this.latency=new Date,this.pingTimeout=setTimeout(()=>{this.ws!==null&&(this.wasCloseCalled=!1,this.log.error("Ping timeout."),this.ws.close(),clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),clearTimeout(this._updateEmotesetsTimer))},u.get(this.opts.connection.timeout,9999))},6e4);let c=u.get(this.opts.options.joinInterval,2e3);c<300&&(c=300);const f=new y(c),E=[...new Set([...this.opts.channels,...this.channels])];this.channels=[];for(let v=0;v<E.length;v++){const S=E[v];f.add(()=>{this._isConnected()&&this.join(S).catch(M=>this.log.error(M))})}f.next();break}case"NOTICE":{const c=[null],f=[i,x,l],E=[x],v=[i,!0],S=[i,!1],M=[f,c],T=[f,E],b=`[${i}] ${l}`;switch(x){case"subs_on":this.log.info(`[${i}] This room is now in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribers"],[v,v,c]);break;case"subs_off":this.log.info(`[${i}] This room is no longer in subscribers-only mode.`),this.emits(["subscriber","subscribers","_promiseSubscribersoff"],[S,S,c]);break;case"emote_only_on":this.log.info(`[${i}] This room is now in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonly"],[v,c]);break;case"emote_only_off":this.log.info(`[${i}] This room is no longer in emote-only mode.`),this.emits(["emoteonly","_promiseEmoteonlyoff"],[S,c]);break;case"slow_on":case"slow_off":break;case"followers_on_zero":case"followers_on":case"followers_off":break;case"r9k_on":this.log.info(`[${i}] This room is now in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbeta"],[v,v,c]);break;case"r9k_off":this.log.info(`[${i}] This room is no longer in r9k mode.`),this.emits(["r9kmode","r9kbeta","_promiseR9kbetaoff"],[S,S,c]);break;case"room_mods":{const I=l.split(": "),O=(I.length>1?I[1]:"").toLowerCase().split(", ").filter(j=>j);this.emits(["_promiseMods","mods"],[[null,O],[i,O]]);break}case"no_mods":this.emits(["_promiseMods","mods"],[[null,[]],[i,[]]]);break;case"vips_success":{l.endsWith(".")&&(l=l.slice(0,-1));const I=l.split(": "),O=(I.length>1?I[1]:"").toLowerCase().split(", ").filter(j=>j);this.emits(["_promiseVips","vips"],[[null,O],[i,O]]);break}case"no_vips":this.emits(["_promiseVips","vips"],[[null,[]],[i,[]]]);break;case"already_banned":case"bad_ban_admin":case"bad_ban_anon":case"bad_ban_broadcaster":case"bad_ban_global_mod":case"bad_ban_mod":case"bad_ban_self":case"bad_ban_staff":case"usage_ban":this.log.info(b),this.emits(["notice","_promiseBan"],T);break;case"ban_success":this.log.info(b),this.emits(["notice","_promiseBan"],M);break;case"usage_clear":this.log.info(b),this.emits(["notice","_promiseClear"],T);break;case"usage_mods":this.log.info(b),this.emits(["notice","_promiseMods"],[f,[x,[]]]);break;case"mod_success":this.log.info(b),this.emits(["notice","_promiseMod"],M);break;case"usage_vips":this.log.info(b),this.emits(["notice","_promiseVips"],[f,[x,[]]]);break;case"usage_vip":case"bad_vip_grantee_banned":case"bad_vip_grantee_already_vip":case"bad_vip_max_vips_reached":case"bad_vip_achievement_incomplete":this.log.info(b),this.emits(["notice","_promiseVip"],[f,[x,[]]]);break;case"vip_success":this.log.info(b),this.emits(["notice","_promiseVip"],M);break;case"usage_mod":case"bad_mod_banned":case"bad_mod_mod":this.log.info(b),this.emits(["notice","_promiseMod"],T);break;case"unmod_success":this.log.info(b),this.emits(["notice","_promiseUnmod"],M);break;case"unvip_success":this.log.info(b),this.emits(["notice","_promiseUnvip"],M);break;case"usage_unmod":case"bad_unmod_mod":this.log.info(b),this.emits(["notice","_promiseUnmod"],T);break;case"usage_unvip":case"bad_unvip_grantee_not_vip":this.log.info(b),this.emits(["notice","_promiseUnvip"],T);break;case"color_changed":this.log.info(b),this.emits(["notice","_promiseColor"],M);break;case"usage_color":case"turbo_only_color":this.log.info(b),this.emits(["notice","_promiseColor"],T);break;case"commercial_success":this.log.info(b),this.emits(["notice","_promiseCommercial"],M);break;case"usage_commercial":case"bad_commercial_error":this.log.info(b),this.emits(["notice","_promiseCommercial"],T);break;case"hosts_remaining":{this.log.info(b);const I=isNaN(l[0])?0:parseInt(l[0]);this.emits(["notice","_promiseHost"],[f,[null,~~I]]);break}case"bad_host_hosting":case"bad_host_rate_exceeded":case"bad_host_error":case"usage_host":this.log.info(b),this.emits(["notice","_promiseHost"],[f,[x,null]]);break;case"already_r9k_on":case"usage_r9k_on":this.log.info(b),this.emits(["notice","_promiseR9kbeta"],T);break;case"already_r9k_off":case"usage_r9k_off":this.log.info(b),this.emits(["notice","_promiseR9kbetaoff"],T);break;case"timeout_success":this.log.info(b),this.emits(["notice","_promiseTimeout"],M);break;case"delete_message_success":this.log.info(`[${i} ${l}]`),this.emits(["notice","_promiseDeletemessage"],M);break;case"already_subs_off":case"usage_subs_off":this.log.info(b),this.emits(["notice","_promiseSubscribersoff"],T);break;case"already_subs_on":case"usage_subs_on":this.log.info(b),this.emits(["notice","_promiseSubscribers"],T);break;case"already_emote_only_off":case"usage_emote_only_off":this.log.info(b),this.emits(["notice","_promiseEmoteonlyoff"],T);break;case"already_emote_only_on":case"usage_emote_only_on":this.log.info(b),this.emits(["notice","_promiseEmoteonly"],T);break;case"usage_slow_on":this.log.info(b),this.emits(["notice","_promiseSlow"],T);break;case"usage_slow_off":this.log.info(b),this.emits(["notice","_promiseSlowoff"],T);break;case"usage_timeout":case"bad_timeout_admin":case"bad_timeout_anon":case"bad_timeout_broadcaster":case"bad_timeout_duration":case"bad_timeout_global_mod":case"bad_timeout_mod":case"bad_timeout_self":case"bad_timeout_staff":this.log.info(b),this.emits(["notice","_promiseTimeout"],T);break;case"untimeout_success":case"unban_success":this.log.info(b),this.emits(["notice","_promiseUnban"],M);break;case"usage_unban":case"bad_unban_no_ban":this.log.info(b),this.emits(["notice","_promiseUnban"],T);break;case"usage_delete":case"bad_delete_message_error":case"bad_delete_message_broadcaster":case"bad_delete_message_mod":this.log.info(b),this.emits(["notice","_promiseDeletemessage"],T);break;case"usage_unhost":case"not_hosting":this.log.info(b),this.emits(["notice","_promiseUnhost"],T);break;case"whisper_invalid_login":case"whisper_invalid_self":case"whisper_limit_per_min":case"whisper_limit_per_sec":case"whisper_restricted":case"whisper_restricted_recipient":this.log.info(b),this.emits(["notice","_promiseWhisper"],T);break;case"no_permission":case"msg_banned":case"msg_room_not_found":case"msg_channel_suspended":case"tos_ban":case"invalid_user":this.log.info(b),this.emits(["notice","_promiseBan","_promiseClear","_promiseUnban","_promiseTimeout","_promiseDeletemessage","_promiseMods","_promiseMod","_promiseUnmod","_promiseVips","_promiseVip","_promiseUnvip","_promiseCommercial","_promiseHost","_promiseUnhost","_promiseJoin","_promisePart","_promiseR9kbeta","_promiseR9kbetaoff","_promiseSlow","_promiseSlowoff","_promiseFollowers","_promiseFollowersoff","_promiseSubscribers","_promiseSubscribersoff","_promiseEmoteonly","_promiseEmoteonlyoff","_promiseWhisper"],[f,[x,i]]);break;case"msg_rejected":case"msg_rejected_mandatory":this.log.info(b),this.emit("automod",i,x,l);break;case"unrecognized_cmd":this.log.info(b),this.emit("notice",i,x,l);break;case"cmds_available":case"host_target_went_offline":case"msg_censored_broadcaster":case"msg_duplicate":case"msg_emoteonly":case"msg_verified_email":case"msg_ratelimit":case"msg_subsonly":case"msg_timedout":case"msg_bad_characters":case"msg_channel_blocked":case"msg_facebook":case"msg_followersonly":case"msg_followersonly_followed":case"msg_followersonly_zero":case"msg_slowmode":case"msg_suspended":case"no_help":case"usage_disconnect":case"usage_help":case"usage_me":case"unavailable_command":this.log.info(b),this.emit("notice",i,x,l);break;case"host_on":case"host_off":break;default:l.includes("Login unsuccessful")||l.includes("Login authentication failed")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=l,this.log.error(this.reason),this.ws.close()):l.includes("Error logging in")||l.includes("Improperly formatted auth")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason=l,this.log.error(this.reason),this.ws.close()):l.includes("Invalid NICK")?(this.wasCloseCalled=!1,this.reconnect=!1,this.reason="Invalid NICK.",this.log.error(this.reason),this.ws.close()):(this.log.warn(`Could not parse NOTICE from tmi.twitch.tv:
${JSON.stringify(r,null,4)}`),this.emit("notice",i,x,l));break}break}case"USERNOTICE":{const c=m["display-name"]||m.login,f=m["msg-param-sub-plan"]||"",E=u.unescapeIRC(u.get(m["msg-param-sub-plan-name"],""))||null,S={prime:f.includes("Prime"),plan:f,planName:E},M=~~(m["msg-param-streak-months"]||0),T=m["msg-param-recipient-display-name"]||m["msg-param-recipient-user-name"],b=~~m["msg-param-mass-gift-count"];switch(m["message-type"]=x,x){case"resub":this.emits(["resub","subanniversary"],[[i,c,M,l,m,S]]);break;case"sub":this.emits(["subscription","sub"],[[i,c,S,l,m]]);break;case"subgift":this.emit("subgift",i,c,M,T,S,m);break;case"anonsubgift":this.emit("anonsubgift",i,M,T,S,m);break;case"submysterygift":this.emit("submysterygift",i,c,b,S,m);break;case"anonsubmysterygift":this.emit("anonsubmysterygift",i,b,S,m);break;case"primepaidupgrade":this.emit("primepaidupgrade",i,c,S,m);break;case"giftpaidupgrade":{const I=m["msg-param-sender-name"]||m["msg-param-sender-login"];this.emit("giftpaidupgrade",i,c,I,m);break}case"anongiftpaidupgrade":this.emit("anongiftpaidupgrade",i,c,m);break;case"raid":{const I=m["msg-param-displayName"]||m["msg-param-login"],O=+m["msg-param-viewerCount"];this.emit("raided",i,I,O,m);break}case"ritual":{const I=m["msg-param-ritual-name"];switch(I){case"new_chatter":this.emit("newchatter",i,c,m,l);break;default:this.emit("ritual",I,i,c,m,l);break}break}default:this.emit("usernotice",x,i,m,l);break}break}case"HOSTTARGET":{const c=l.split(" "),f=~~c[1]||0;c[0]==="-"?(this.log.info(`[${i}] Exited host mode.`),this.emits(["unhost","_promiseUnhost"],[[i,f],[null]])):(this.log.info(`[${i}] Now hosting ${c[0]} for ${f} viewer(s).`),this.emit("hosting",i,c[0],f));break}case"CLEARCHAT":if(r.params.length>1){const c=u.get(r.tags["ban-duration"],null);c===null?(this.log.info(`[${i}] ${l} has been banned.`),this.emit("ban",i,l,null,r.tags)):(this.log.info(`[${i}] ${l} has been timed out for ${c} seconds.`),this.emit("timeout",i,l,null,~~c,r.tags))}else this.log.info(`[${i}] Chat was cleared by a moderator.`),this.emits(["clearchat","_promiseClear"],[[i],[null]]);break;case"CLEARMSG":if(r.params.length>1){const c=l,f=m.login;m["message-type"]="messagedeleted",this.log.info(`[${i}] ${f}'s message has been deleted.`),this.emit("messagedeleted",i,f,c,m)}break;case"RECONNECT":this.log.info("Received RECONNECT request from Twitch.."),this.log.info(`Disconnecting and reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.disconnect().catch(c=>this.log.error(c)),setTimeout(()=>this.connect().catch(c=>this.log.error(c)),this.reconnectTimer);break;case"USERSTATE":r.tags.username=this.username,r.tags["user-type"]==="mod"&&(this.moderators[i]||(this.moderators[i]=[]),this.moderators[i].includes(this.username)||this.moderators[i].push(this.username)),!u.isJustinfan(this.getUsername())&&!this.userstate[i]&&(this.userstate[i]=m,this.lastJoined=i,this.channels.push(i),this.log.info(`Joined ${i}`),this.emit("join",i,u.username(this.getUsername()),!0)),r.tags["emote-sets"]!==this.emotes&&this._updateEmoteset(r.tags["emote-sets"]),this.userstate[i]=m;break;case"GLOBALUSERSTATE":this.globaluserstate=m,this.emit("globaluserstate",m),typeof r.tags["emote-sets"]<"u"&&this._updateEmoteset(r.tags["emote-sets"]);break;case"ROOMSTATE":if(u.channel(this.lastJoined)===i&&this.emit("_promiseJoin",null,i),r.tags.channel=i,this.emit("roomstate",i,r.tags),!u.hasOwn(r.tags,"subs-only")){if(u.hasOwn(r.tags,"slow"))if(typeof r.tags.slow=="boolean"&&!r.tags.slow){const c=[i,!1,0];this.log.info(`[${i}] This room is no longer in slow mode.`),this.emits(["slow","slowmode","_promiseSlowoff"],[c,c,[null]])}else{const c=~~r.tags.slow,f=[i,!0,c];this.log.info(`[${i}] This room is now in slow mode.`),this.emits(["slow","slowmode","_promiseSlow"],[f,f,[null]])}if(u.hasOwn(r.tags,"followers-only"))if(r.tags["followers-only"]==="-1"){const c=[i,!1,0];this.log.info(`[${i}] This room is no longer in followers-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowersoff"],[c,c,[null]])}else{const c=~~r.tags["followers-only"],f=[i,!0,c];this.log.info(`[${i}] This room is now in follower-only mode.`),this.emits(["followersonly","followersmode","_promiseFollowers"],[f,f,[null]])}}break;case"SERVERCHANGE":break;default:this.log.warn(`Could not parse message from tmi.twitch.tv:
${JSON.stringify(r,null,4)}`);break}else if(r.prefix==="jtv")switch(r.command){case"MODE":l==="+o"?(this.moderators[i]||(this.moderators[i]=[]),this.moderators[i].includes(r.params[2])||this.moderators[i].push(r.params[2]),this.emit("mod",i,r.params[2])):l==="-o"&&(this.moderators[i]||(this.moderators[i]=[]),this.moderators[i].filter(c=>c!==r.params[2]),this.emit("unmod",i,r.params[2]));break;default:this.log.warn(`Could not parse message from jtv:
${JSON.stringify(r,null,4)}`);break}else switch(r.command){case"353":this.emit("names",r.params[2],r.params[3].split(" "));break;case"366":break;case"JOIN":{const c=r.prefix.split("!")[0];u.isJustinfan(this.getUsername())&&this.username===c&&(this.lastJoined=i,this.channels.push(i),this.log.info(`Joined ${i}`),this.emit("join",i,c,!0)),this.username!==c&&this.emit("join",i,c,!1);break}case"PART":{let c=!1;const f=r.prefix.split("!")[0];if(this.username===f){c=!0,this.userstate[i]&&delete this.userstate[i];let E=this.channels.indexOf(i);E!==-1&&this.channels.splice(E,1),E=this.opts.channels.indexOf(i),E!==-1&&this.opts.channels.splice(E,1),this.log.info(`Left ${i}`),this.emit("_promisePart",null)}this.emit("part",i,f,c);break}case"WHISPER":{const c=r.prefix.split("!")[0];this.log.info(`[WHISPER] <${c}>: ${l}`),u.hasOwn(r.tags,"username")||(r.tags.username=c),r.tags["message-type"]="whisper";const f=u.channel(r.tags.username);this.emits(["whisper","message"],[[f,r.tags,l,!1]]);break}case"PRIVMSG":if(r.tags.username=r.prefix.split("!")[0],r.tags.username==="jtv"){const c=u.username(l.split(" ")[0]),f=l.includes("auto");if(l.includes("hosting you for")){const E=u.extractNumber(l);this.emit("hosted",i,c,E,f)}else l.includes("hosting you")&&this.emit("hosted",i,c,0,f)}else{const c=u.get(this.opts.options.messagesLogLevel,"info"),f=u.actionMessage(l);if(r.tags["message-type"]=f?"action":"chat",l=f?f[1]:l,u.hasOwn(r.tags,"bits"))this.emit("cheer",i,r.tags,l);else{if(u.hasOwn(r.tags,"msg-id")){if(r.tags["msg-id"]==="highlighted-message"){const E=r.tags["msg-id"];this.emit("redeem",i,r.tags.username,E,r.tags,l)}else if(r.tags["msg-id"]==="skip-subs-mode-message"){const E=r.tags["msg-id"];this.emit("redeem",i,r.tags.username,E,r.tags,l)}}else if(u.hasOwn(r.tags,"custom-reward-id")){const E=r.tags["custom-reward-id"];this.emit("redeem",i,r.tags.username,E,r.tags,l)}f?(this.log[c](`[${i}] *<${r.tags.username}>: ${l}`),this.emits(["action","message"],[[i,r.tags,l,!1]])):(this.log[c](`[${i}] <${r.tags.username}>: ${l}`),this.emits(["chat","message"],[[i,r.tags,l,!1]]))}}break;default:this.log.warn(`Could not parse message:
${JSON.stringify(r,null,4)}`);break}},_.prototype.connect=function(){return new Promise((r,i)=>{this.server=u.get(this.opts.connection.server,"irc-ws.chat.twitch.tv"),this.port=u.get(this.opts.connection.port,80),this.secure&&(this.port=443),this.port===443&&(this.secure=!0),this.reconnectTimer=this.reconnectTimer*this.reconnectDecay,this.reconnectTimer>=this.maxReconnectInterval&&(this.reconnectTimer=this.maxReconnectInterval),this._openConnection(),this.once("_promiseConnect",l=>{l?i(l):r([this.server,~~this.port])})})},_.prototype._openConnection=function(){const r=`${this.secure?"wss":"ws"}://${this.server}:${this.port}/`,i={};"agent"in this.opts.connection&&(i.agent=this.opts.connection.agent),this.ws=new s(r,"irc",i),this.ws.onmessage=this._onMessage.bind(this),this.ws.onerror=this._onError.bind(this),this.ws.onclose=this._onClose.bind(this),this.ws.onopen=this._onOpen.bind(this)},_.prototype._onOpen=function(){this._isConnected()&&(this.log.info(`Connecting to ${this.server} on port ${this.port}..`),this.emit("connecting",this.server,~~this.port),this.username=u.get(this.opts.identity.username,u.justinfan()),this._getToken().then(r=>{const i=u.password(r);this.log.info("Sending authentication to server.."),this.emit("logon");let l="twitch.tv/tags twitch.tv/commands";this._skipMembership||(l+=" twitch.tv/membership"),this.ws.send("CAP REQ :"+l),i?this.ws.send(`PASS ${i}`):u.isJustinfan(this.username)&&this.ws.send("PASS SCHMOOPIIE"),this.ws.send(`NICK ${this.username}`)}).catch(r=>{this.emits(["_promiseConnect","disconnected"],[[r],["Could not get a token."]])}))},_.prototype._getToken=function(){const r=this.opts.identity.password;let i;return typeof r=="function"?(i=r(),i instanceof Promise?i:Promise.resolve(i)):Promise.resolve(r)},_.prototype._onMessage=function(r){r.data.trim().split(`\r
`).forEach(l=>{const x=g.msg(l);x&&this.handleMessage(x)})},_.prototype._onError=function(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),clearTimeout(this._updateEmotesetsTimer),this.reason=this.ws===null?"Connection closed.":"Unable to connect.",this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error(`Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout(()=>{this.reconnecting=!1,this.connect().catch(r=>this.log.error(r))},this.reconnectTimer)),this.ws=null},_.prototype._onClose=function(){this.moderators={},this.userstate={},this.globaluserstate={},clearInterval(this.pingLoop),clearTimeout(this.pingTimeout),clearTimeout(this._updateEmotesetsTimer),this.wasCloseCalled?(this.wasCloseCalled=!1,this.reason="Connection closed.",this.log.info(this.reason),this.emits(["_promiseConnect","_promiseDisconnect","disconnected"],[[this.reason],[null],[this.reason]])):(this.emits(["_promiseConnect","disconnected"],[[this.reason]]),this.reconnect&&this.reconnections===this.maxReconnectAttempts&&(this.emit("maxreconnect"),this.log.error("Maximum reconnection attempts reached.")),this.reconnect&&!this.reconnecting&&this.reconnections<=this.maxReconnectAttempts-1&&(this.reconnecting=!0,this.reconnections=this.reconnections+1,this.log.error(`Could not connect to server. Reconnecting in ${Math.round(this.reconnectTimer/1e3)} seconds..`),this.emit("reconnect"),setTimeout(()=>{this.reconnecting=!1,this.connect().catch(r=>this.log.error(r))},this.reconnectTimer))),this.ws=null},_.prototype._getPromiseDelay=function(){return this.currentLatency<=600?600:this.currentLatency+100},_.prototype._sendCommand=function(r,i,l,x){return new Promise((m,c)=>{if(this._isConnected())(r===null||typeof r=="number")&&(r===null&&(r=this._getPromiseDelay()),u.promiseDelay(r).then(()=>c("No response from Twitch.")));else return c("Not connected to server.");if(i!==null){const f=u.channel(i);this.log.info(`[${f}] Executing command: ${l}`),this.ws.send(`PRIVMSG ${f} :${l}`)}else this.log.info(`Executing command: ${l}`),this.ws.send(l);typeof x=="function"?x(m,c):m()})},_.prototype._sendMessage=function(r,i,l,x){return new Promise((m,c)=>{if(this._isConnected()){if(u.isJustinfan(this.getUsername()))return c("Cannot send anonymous messages.")}else return c("Not connected to server.");const f=u.channel(i);if(this.userstate[f]||(this.userstate[f]={}),l.length>=500){const T=u.splitLine(l,500);l=T[0],setTimeout(()=>{this._sendMessage(r,i,T[1],()=>{})},350)}this.ws.send(`PRIVMSG ${f} :${l}`);const E={};Object.keys(this.emotesets).forEach(T=>this.emotesets[T].forEach(b=>(u.isRegex(b.code)?g.emoteRegex:g.emoteString)(l,b.code,b.id,E)));const v=Object.assign(this.userstate[f],g.emotes({emotes:g.transformEmotes(E)||null})),S=u.get(this.opts.options.messagesLogLevel,"info"),M=u.actionMessage(l);M?(v["message-type"]="action",this.log[S](`[${f}] *<${this.getUsername()}>: ${M[1]}`),this.emits(["action","message"],[[f,v,M[1],!0]])):(v["message-type"]="chat",this.log[S](`[${f}] <${this.getUsername()}>: ${l}`),this.emits(["chat","message"],[[f,v,l,!0]])),typeof x=="function"?x(m,c):m()})},_.prototype._updateEmoteset=function(r){let i=r!==void 0;if(i&&(r===this.emotes?i=!1:this.emotes=r),this._skipUpdatingEmotesets){i&&this.emit("emotesets",r,{});return}const l=()=>{this._updateEmotesetsTimerDelay>0&&(clearTimeout(this._updateEmotesetsTimer),this._updateEmotesetsTimer=setTimeout(()=>this._updateEmoteset(r),this._updateEmotesetsTimerDelay))};this._getToken().then(x=>{const m=`https://api.twitch.tv/kraken/chat/emoticon_images?emotesets=${r}`,c={};return"fetchAgent"in this.opts.connection&&(c.agent=this.opts.connection.fetchAgent),o(m,{...c,headers:{Accept:"application/vnd.twitchtv.v5+json",Authorization:`OAuth ${u.token(x)}`,"Client-ID":this.clientId}})}).then(x=>x.json()).then(x=>{this.emotesets=x.emoticon_sets||{},this.emit("emotesets",r,this.emotesets),l()}).catch(()=>l())},_.prototype.getUsername=function(){return this.username},_.prototype.getOptions=function(){return this.opts},_.prototype.getChannels=function(){return this.channels},_.prototype.isMod=function(r,i){const l=u.channel(r);return this.moderators[l]||(this.moderators[l]=[]),this.moderators[l].includes(u.username(i))},_.prototype.readyState=function(){return this.ws===null?"CLOSED":["CONNECTING","OPEN","CLOSING","CLOSED"][this.ws.readyState]},_.prototype._isConnected=function(){return this.ws!==null&&this.ws.readyState===1},_.prototype.disconnect=function(){return new Promise((r,i)=>{this.ws!==null&&this.ws.readyState!==3?(this.wasCloseCalled=!0,this.log.info("Disconnecting from server.."),this.ws.close(),this.once("_promiseDisconnect",()=>r([this.server,~~this.port]))):(this.log.error("Cannot disconnect from server. Socket is not opened or connection is already closing."),i("Cannot disconnect from server. Socket is not opened or connection is already closing."))})},_.prototype.off=_.prototype.removeListener,e.exports&&(e.exports=_),typeof window<"u"&&(window.tmi={client:_,Client:_})})(je);var ft=je.exports;const ke=ft;var pt={client:ke,Client:ke};const gt=Je(pt);function Te(e,t,s){return Math.min(Math.max(t,e),s)}function Ee(e,t,s){return(t-e)*s+e}function bt(){for(var e=0,t,s,o="";e<arguments.length;)(t=arguments[e++])&&(s=ze(t))&&(o&&(o+=" "),o+=s);return o}function ze(e){if(typeof e=="string")return e;for(var t,s="",o=0;o<e.length;o++)e[o]&&(t=ze(e[o]))&&(s&&(s+=" "),s+=t);return s}var de="-";function _t(e){var t=wt(e),s=e.conflictingClassGroups,o=e.conflictingClassGroupModifiers,n=o===void 0?{}:o;function a(h){var g=h.split(de);return g[0]===""&&g.length!==1&&g.shift(),Ge(g,t)||vt(h)}function d(h,g){var y=s[h]||[];return g&&n[h]?[].concat(y,n[h]):y}return{getClassGroupId:a,getConflictingClassGroupIds:d}}function Ge(e,t){var d;if(e.length===0)return t.classGroupId;var s=e[0],o=t.nextPart.get(s),n=o?Ge(e.slice(1),o):void 0;if(n)return n;if(t.validators.length!==0){var a=e.join(de);return(d=t.validators.find(function(h){var g=h.validator;return g(a)}))==null?void 0:d.classGroupId}}var Se=/^\[(.+)\]$/;function vt(e){if(Se.test(e)){var t=Se.exec(e)[1],s=t==null?void 0:t.substring(0,t.indexOf(":"));if(s)return"arbitrary.."+s}}function wt(e){var t=e.theme,s=e.prefix,o={nextPart:new Map,validators:[]},n=yt(Object.entries(e.classGroups),s);return n.forEach(function(a){var d=a[0],h=a[1];ue(h,o,d,t)}),o}function ue(e,t,s,o){e.forEach(function(n){if(typeof n=="string"){var a=n===""?t:Me(t,n);a.classGroupId=s;return}if(typeof n=="function"){if(xt(n)){ue(n(o),t,s,o);return}t.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(function(d){var h=d[0],g=d[1];ue(g,Me(t,h),s,o)})})}function Me(e,t){var s=e;return t.split(de).forEach(function(o){s.nextPart.has(o)||s.nextPart.set(o,{nextPart:new Map,validators:[]}),s=s.nextPart.get(o)}),s}function xt(e){return e.isThemeGetter}function yt(e,t){return t?e.map(function(s){var o=s[0],n=s[1],a=n.map(function(d){return typeof d=="string"?t+d:typeof d=="object"?Object.fromEntries(Object.entries(d).map(function(h){var g=h[0],y=h[1];return[t+g,y]})):d});return[o,a]}):e}function Ct(e){if(e<1)return{get:function(){},set:function(){}};var t=0,s=new Map,o=new Map;function n(a,d){s.set(a,d),t++,t>e&&(t=0,o=s,s=new Map)}return{get:function(d){var h=s.get(d);if(h!==void 0)return h;if((h=o.get(d))!==void 0)return n(d,h),h},set:function(d,h){s.has(d)?s.set(d,h):n(d,h)}}}var De="!";function kt(e){var t=e.separator||":",s=t.length===1,o=t[0],n=t.length;return function(d){for(var h=[],g=0,y=0,u,k=0;k<d.length;k++){var _=d[k];if(g===0){if(_===o&&(s||d.slice(k,k+n)===t)){h.push(d.slice(y,k)),y=k+n;continue}if(_==="/"){u=k;continue}}_==="["?g++:_==="]"&&g--}var C=h.length===0?d:d.substring(y),r=C.startsWith(De),i=r?C.substring(1):C,l=u&&u>y?u-y:void 0;return{modifiers:h,hasImportantModifier:r,baseClassName:i,maybePostfixModifierPosition:l}}}function Tt(e){if(e.length<=1)return e;var t=[],s=[];return e.forEach(function(o){var n=o[0]==="[";n?(t.push.apply(t,s.sort().concat([o])),s=[]):s.push(o)}),t.push.apply(t,s.sort()),t}function Et(e){return{cache:Ct(e.cacheSize),splitModifiers:kt(e),..._t(e)}}var St=/\s+/;function Mt(e,t){var s=t.splitModifiers,o=t.getClassGroupId,n=t.getConflictingClassGroupIds,a=new Set;return e.trim().split(St).map(function(d){var h=s(d),g=h.modifiers,y=h.hasImportantModifier,u=h.baseClassName,k=h.maybePostfixModifierPosition,_=o(k?u.substring(0,k):u),C=!!k;if(!_){if(!k)return{isTailwindClass:!1,originalClassName:d};if(_=o(u),!_)return{isTailwindClass:!1,originalClassName:d};C=!1}var r=Tt(g).join(":"),i=y?r+De:r;return{isTailwindClass:!0,modifierId:i,classGroupId:_,originalClassName:d,hasPostfixModifier:C}}).reverse().filter(function(d){if(!d.isTailwindClass)return!0;var h=d.modifierId,g=d.classGroupId,y=d.hasPostfixModifier,u=h+g;return a.has(u)?!1:(a.add(u),n(g,y).forEach(function(k){return a.add(h+k)}),!0)}).reverse().map(function(d){return d.originalClassName}).join(" ")}function It(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];var o,n,a,d=h;function h(y){var u=t[0],k=t.slice(1),_=k.reduce(function(C,r){return r(C)},u());return o=Et(_),n=o.cache.get,a=o.cache.set,d=g,g(y)}function g(y){var u=n(y);if(u)return u;var k=Mt(y,o);return a(y,k),k}return function(){return d(bt.apply(null,arguments))}}function $(e){var t=function(o){return o[e]||[]};return t.isThemeGetter=!0,t}var Be=/^\[(?:([a-z-]+):)?(.+)\]$/i,Nt=/^\d+\/\d+$/,$t=new Set(["px","full","screen"]),Lt=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,At=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|^0$/,Rt=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function z(e){return J(e)||$t.has(e)||Nt.test(e)||V(e)}function V(e){return q(e,"length",Gt)}function jt(e){return q(e,"size",Fe)}function Ot(e){return q(e,"position",Fe)}function Pt(e){return q(e,"url",Dt)}function re(e){return q(e,"number",J)}function J(e){return!Number.isNaN(Number(e))}function Ut(e){return e.endsWith("%")&&J(e.slice(0,-1))}function ee(e){return Ie(e)||q(e,"number",Ie)}function L(e){return Be.test(e)}function te(){return!0}function W(e){return Lt.test(e)}function zt(e){return q(e,"",Bt)}function q(e,t,s){var o=Be.exec(e);return o?o[1]?o[1]===t:s(o[2]):!1}function Gt(e){return At.test(e)}function Fe(){return!1}function Dt(e){return e.startsWith("url(")}function Ie(e){return Number.isInteger(Number(e))}function Bt(e){return Rt.test(e)}function Ft(){var e=$("colors"),t=$("spacing"),s=$("blur"),o=$("brightness"),n=$("borderColor"),a=$("borderRadius"),d=$("borderSpacing"),h=$("borderWidth"),g=$("contrast"),y=$("grayscale"),u=$("hueRotate"),k=$("invert"),_=$("gap"),C=$("gradientColorStops"),r=$("gradientColorStopPositions"),i=$("inset"),l=$("margin"),x=$("opacity"),m=$("padding"),c=$("saturate"),f=$("scale"),E=$("sepia"),v=$("skew"),S=$("space"),M=$("translate"),T=function(){return["auto","contain","none"]},b=function(){return["auto","hidden","clip","visible","scroll"]},I=function(){return["auto",t]},O=function(){return["",z]},j=function(){return["auto",J,L]},H=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},F=function(){return["solid","dashed","dotted","double","none"]},Q=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},N=function(){return["start","end","center","between","around","evenly","stretch"]},P=function(){return["","0",L]},Z=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},K=function(){return[J,re]},ie=function(){return[J,L]};return{cacheSize:500,theme:{colors:[te],spacing:[z],blur:["none","",W,V],brightness:K(),borderColor:[e],borderRadius:["none","","full",W,V],borderSpacing:[t],borderWidth:O(),contrast:K(),grayscale:P(),hueRotate:ie(),invert:P(),gap:[t],gradientColorStops:[e],gradientColorStopPositions:[Ut,V],inset:I(),margin:I(),opacity:K(),padding:[t],saturate:K(),scale:K(),sepia:P(),skew:ie(),space:[t],translate:[t]},classGroups:{aspect:[{aspect:["auto","square","video",L]}],container:["container"],columns:[{columns:[W]}],"break-after":[{"break-after":Z()}],"break-before":[{"break-before":Z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(H(),[L])}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[i]}],"inset-x":[{"inset-x":[i]}],"inset-y":[{"inset-y":[i]}],start:[{start:[i]}],end:[{end:[i]}],top:[{top:[i]}],right:[{right:[i]}],bottom:[{bottom:[i]}],left:[{left:[i]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ee]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",L]}],grow:[{grow:P()}],shrink:[{shrink:P()}],order:[{order:["first","last","none",ee]}],"grid-cols":[{"grid-cols":[te]}],"col-start-end":[{col:["auto",{span:[ee]},L]}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":[te]}],"row-start-end":[{row:["auto",{span:[ee]},L]}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",L]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",L]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal"].concat(N())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(N(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(N(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[m]}],px:[{px:[m]}],py:[{py:[m]}],ps:[{ps:[m]}],pe:[{pe:[m]}],pt:[{pt:[m]}],pr:[{pr:[m]}],pb:[{pb:[m]}],pl:[{pl:[m]}],m:[{m:[l]}],mx:[{mx:[l]}],my:[{my:[l]}],ms:[{ms:[l]}],me:[{me:[l]}],mt:[{mt:[l]}],mr:[{mr:[l]}],mb:[{mb:[l]}],ml:[{ml:[l]}],"space-x":[{"space-x":[S]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[S]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",t]}],"min-w":[{"min-w":["min","max","fit",z]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[W]},W,V]}],h:[{h:[t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",z]}],"max-h":[{"max-h":[t,"min","max","fit"]}],"font-size":[{text:["base",W,V]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",re]}],"font-family":[{font:[te]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",V]}],"line-clamp":[{"line-clamp":["none",J,re]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",z]}],"list-image":[{"list-image":["none",L]}],"list-style-type":[{list:["none","disc","decimal",L]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(F(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",z]}],"underline-offset":[{"underline-offset":["auto",z]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[t]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",V]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",L]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(H(),[Ot])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",jt]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pt]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[r]}],"gradient-via-pos":[{via:[r]}],"gradient-to-pos":[{to:[r]}],"gradient-from":[{from:[C]}],"gradient-via":[{via:[C]}],"gradient-to":[{to:[C]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[h]}],"border-w-x":[{"border-x":[h]}],"border-w-y":[{"border-y":[h]}],"border-w-s":[{"border-s":[h]}],"border-w-e":[{"border-e":[h]}],"border-w-t":[{"border-t":[h]}],"border-w-r":[{"border-r":[h]}],"border-w-b":[{"border-b":[h]}],"border-w-l":[{"border-l":[h]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[].concat(F(),["hidden"])}],"divide-x":[{"divide-x":[h]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[h]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:F()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:[""].concat(F())}],"outline-offset":[{"outline-offset":[z]}],"outline-w":[{outline:[z]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[z]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",W,zt]}],"shadow-color":[{shadow:[te]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":Q()}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[o]}],contrast:[{contrast:[g]}],"drop-shadow":[{"drop-shadow":["","none",W,L]}],grayscale:[{grayscale:[y]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[k]}],saturate:[{saturate:[c]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[g]}],"backdrop-grayscale":[{"backdrop-grayscale":[y]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[k]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[c]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[d]}],"border-spacing-x":[{"border-spacing-x":[d]}],"border-spacing-y":[{"border-spacing-y":[d]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",L]}],duration:[{duration:ie()}],ease:[{ease:["linear","in","out","in-out",L]}],delay:[{delay:ie()}],animate:[{animate:["none","spin","ping","pulse","bounce",L]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[f]}],"scale-x":[{"scale-x":[f]}],"scale-y":[{"scale-y":[f]}],rotate:[{rotate:[ee,L]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[v]}],"skew-y":[{"skew-y":[v]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",L]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",L]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[t]}],"scroll-mx":[{"scroll-mx":[t]}],"scroll-my":[{"scroll-my":[t]}],"scroll-ms":[{"scroll-ms":[t]}],"scroll-me":[{"scroll-me":[t]}],"scroll-mt":[{"scroll-mt":[t]}],"scroll-mr":[{"scroll-mr":[t]}],"scroll-mb":[{"scroll-mb":[t]}],"scroll-ml":[{"scroll-ml":[t]}],"scroll-p":[{"scroll-p":[t]}],"scroll-px":[{"scroll-px":[t]}],"scroll-py":[{"scroll-py":[t]}],"scroll-ps":[{"scroll-ps":[t]}],"scroll-pe":[{"scroll-pe":[t]}],"scroll-pt":[{"scroll-pt":[t]}],"scroll-pr":[{"scroll-pr":[t]}],"scroll-pb":[{"scroll-pb":[t]}],"scroll-pl":[{"scroll-pl":[t]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",L]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[z,re]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var We=It(Ft);const Wt=e=>p.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 340.274 340.274",fill:"currentColor",...e,children:p.jsx("path",{d:`M293.629,127.806l-5.795-13.739c19.846-44.856,18.53-46.189,14.676-50.08l-25.353-24.77l-2.516-2.12h-2.937
				c-1.549,0-6.173,0-44.712,17.48l-14.184-5.719c-18.332-45.444-20.212-45.444-25.58-45.444h-35.765
				c-5.362,0-7.446-0.006-24.448,45.606l-14.123,5.734C86.848,43.757,71.574,38.19,67.452,38.19l-3.381,0.105L36.801,65.032
				c-4.138,3.891-5.582,5.263,15.402,49.425l-5.774,13.691C0,146.097,0,147.838,0,153.33v35.068c0,5.501,0,7.44,46.585,24.127
				l5.773,13.667c-19.843,44.832-18.51,46.178-14.655,50.032l25.353,24.8l2.522,2.168h2.951c1.525,0,6.092,0,44.685-17.516
				l14.159,5.758c18.335,45.438,20.218,45.427,25.598,45.427h35.771c5.47,0,7.41,0,24.463-45.589l14.195-5.74
				c26.014,11,41.253,16.585,45.349,16.585l3.404-0.096l27.479-26.901c3.909-3.945,5.278-5.309-15.589-49.288l5.734-13.702
				c46.496-17.967,46.496-19.853,46.496-25.221v-35.029C340.268,146.361,340.268,144.434,293.629,127.806z M170.128,228.474
				c-32.798,0-59.504-26.187-59.504-58.364c0-32.153,26.707-58.315,59.504-58.315c32.78,0,59.43,26.168,59.43,58.315
				C229.552,202.287,202.902,228.474,170.128,228.474z`})}),Vt=Wt,Ht=e=>p.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",...e,children:p.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12C2 17.51 6.49 22 12 22C17.51 22 22 17.51 22 12C22 6.49 17.51 2 12 2ZM15.36 14.3C15.65 14.59 15.65 15.07 15.36 15.36C15.21 15.51 15.02 15.58 14.83 15.58C14.64 15.58 14.45 15.51 14.3 15.36L12 13.06L9.7 15.36C9.55 15.51 9.36 15.58 9.17 15.58C8.98 15.58 8.79 15.51 8.64 15.36C8.35 15.07 8.35 14.59 8.64 14.3L10.94 12L8.64 9.7C8.35 9.41 8.35 8.93 8.64 8.64C8.93 8.35 9.41 8.35 9.7 8.64L12 10.94L14.3 8.64C14.59 8.35 15.07 8.35 15.36 8.64C15.65 8.93 15.65 9.41 15.36 9.7L13.06 12L15.36 14.3Z"})}),Jt=Ht,qt=({variant:e="high",...t})=>p.jsx("svg",{fill:"currentColor",width:"1em",height:"1em",viewBox:"-1 0 19 19",...t,children:e==="mute"?p.jsx("path",{d:"M16.417 9.583A7.917 7.917 0 1 1 8.5 1.666a7.917 7.917 0 0 1 7.917 7.917zM7.84 6.05c0-.435-.252-.54-.56-.232L5.16 7.94H3.704a.794.794 0 0 0-.791.793v1.686a.794.794 0 0 0 .791.792h1.457l2.12 2.12c.308.308.56.204.56-.232zm3.84 3.524 1.49-1.49a.396.396 0 0 0-.56-.56l-1.49 1.49-1.49-1.49a.396.396 0 0 0-.56.56l1.49 1.49-1.49 1.49a.396.396 0 1 0 .56.56l1.49-1.49 1.49 1.49a.396.396 0 0 0 .56-.56z"}):e==="low"?p.jsx("path",{d:"M16.417 9.583A7.917 7.917 0 1 1 8.5 1.666a7.917 7.917 0 0 1 7.917 7.917zM7.84 6.06c0-.435-.252-.54-.56-.231l-2.12 2.12H3.705a.794.794 0 0 0-.792.792v1.686a.794.794 0 0 0 .792.792H5.16l2.12 2.12c.308.308.56.204.56-.231zm2.543 3.524a2.547 2.547 0 0 0-.75-1.813.396.396 0 1 0-.56.56 1.773 1.773 0 0 1 0 2.506.396.396 0 1 0 .56.56 2.546 2.546 0 0 0 .75-1.813z"}):e==="medium"?p.jsx("path",{d:"M16.417 9.583A7.917 7.917 0 1 1 8.5 1.666a7.917 7.917 0 0 1 7.917 7.917zM7.84 6.06c0-.435-.252-.54-.56-.231l-2.12 2.12H3.704a.794.794 0 0 0-.791.792v1.686a.794.794 0 0 0 .791.792h1.457l2.12 2.12c.308.308.56.204.56-.231zm1.792 5.337a2.564 2.564 0 0 0 0-3.626.396.396 0 1 0-.56.56 1.773 1.773 0 0 1 0 2.506.396.396 0 1 0 .56.56zm2.597-1.813a4.38 4.38 0 0 0-1.292-3.118.396.396 0 0 0-.56.56 3.618 3.618 0 0 1 0 5.116.396.396 0 1 0 .56.56 4.38 4.38 0 0 0 1.292-3.118z"}):e==="high"?p.jsx("path",{d:"M16.417 9.583A7.917 7.917 0 1 1 8.5 1.666a7.917 7.917 0 0 1 7.917 7.917zM7.84 6.06c0-.435-.252-.54-.56-.232l-2.12 2.12H3.704a.794.794 0 0 0-.791.792v1.687a.794.794 0 0 0 .791.792h1.457l2.12 2.12c.308.308.56.204.56-.232zm1.792 5.336a2.566 2.566 0 0 0 0-3.625.396.396 0 0 0-.56.56 1.775 1.775 0 0 1 0 2.506.396.396 0 1 0 .56.56zm1.305 1.305a4.41 4.41 0 0 0 0-6.235.396.396 0 0 0-.56.56 3.618 3.618 0 0 1 0 5.116.396.396 0 1 0 .56.56zm2.68-.764a6.25 6.25 0 0 0-1.375-6.776.396.396 0 1 0-.56.56 5.464 5.464 0 0 1 0 7.726.396.396 0 1 0 .56.56 6.216 6.216 0 0 0 1.374-2.07z"}):null}),Qt=qt;var G=(e=>(e.IDLE="IDLE",e.STARTED="STARTED",e.GAME_OVER="GAME_OVER",e))(G||{});const Zt=qe(Qe(e=>({status:"IDLE",number:0,user:"",maxScore:0,maxScoreUser:"",setGameState:t=>{e(t)},resetGame:()=>e({maxScore:0,maxScoreUser:"",number:0,user:"",status:"IDLE"})}),{name:"numerica",version:1})),Ve=Zt;function Xt(){const{channel:e,setChannel:t,volume:s,setVolume:o,enableTimeout:n,setEnableTimeout:a,timeoutMultiplier:d,setTimeoutMultiplier:h,timeoutBase:g,setTimeoutBase:y,timeoutReason:u,setTimeoutReason:k,banMods:_,setBanMods:C}=D(),{isAuthenticated:r,goToLogin:i,logOut:l}=Ae(),x=Ve(m=>m.resetGame);return p.jsxs("div",{className:"flex flex-col gap-2",children:[p.jsxs("fieldset",{children:[p.jsx("legend",{children:"Channel"}),p.jsx("input",{type:"text",name:"channel",className:"block w-full rounded-md border-0 py-1 px-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary text-2xl sm:leading-6",placeholder:"Nombre de twitch...",value:e,onChange:m=>t(m.target.value)})]}),p.jsxs("fieldset",{children:[p.jsx("legend",{children:"Bubble Sounds"}),p.jsxs("div",{className:"flex flex-row items-center gap-2 py-1",children:[p.jsx(Qt,{className:"text-4xl",variant:s===0?"mute":s<.25?"low":s<.75?"medium":"high"}),p.jsx("input",{className:"accent-primary w-full",type:"range",min:0,max:1,step:.01,value:s,onChange:m=>o(parseFloat(m.target.value))}),p.jsxs("span",{className:"w-[5ch] text-end",children:[Math.round(s*100),"%"]})]})]}),r?p.jsxs(p.Fragment,{children:[p.jsxs("fieldset",{children:[p.jsx("legend",{children:"Enable Timeout"}),p.jsx("input",{className:"accent-primary",id:"enable-timeout",type:"checkbox",checked:n,onChange:m=>a(m.target.checked)})]}),n&&p.jsxs(p.Fragment,{children:[p.jsxs("fieldset",{children:[p.jsx("legend",{children:"Timeout Multiplier"}),p.jsx("input",{type:"number",name:"timeout-multiplier",className:"block w-full rounded-md border-0 py-1 px-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary text-2xl sm:leading-6",placeholder:"Timeout Multiplier",value:d,onChange:m=>{const c=Number(m.target.value),f=Number.isFinite(c),E=c>=0,v=Number.isInteger(c);f&&E&&v&&h(c)}})]}),p.jsxs("fieldset",{children:[p.jsx("legend",{children:"Timeout Base"}),p.jsx("input",{type:"number",name:"timeout-base",className:"block w-full rounded-md border-0 py-1 px-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary text-2xl sm:leading-6",placeholder:"Timeout Base",value:g,onChange:m=>{const c=Number(m.target.value),f=Number.isFinite(c),E=c>=0,v=Number.isInteger(c);f&&E&&v&&y(c)}})]}),p.jsxs("fieldset",{title:"Customize your ban message",children:[p.jsx("legend",{children:"Timeout Reason"}),p.jsx("input",{type:"text",name:"timeout-reason",className:"block w-full rounded-md border-0 py-1 px-2 text-gray-900 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-primary text-2xl sm:leading-6",placeholder:"Numerica Rothio Skin - Timeout",value:u,onChange:m=>k(m.target.value)})]}),p.jsxs("fieldset",{title:"Enable o dissable moderator ban",children:[p.jsx("legend",{children:"Ban Mods"}),p.jsx("input",{className:"accent-primary",id:"enable-timeout",type:"checkbox",checked:_,onChange:m=>C(m.target.checked)})]}),p.jsxs("fieldset",{title:"Are you brave enough? >:)",children:[p.jsx("legend",{children:"Super secret setting"}),p.jsx("input",{className:"accent-primary",id:"enable-timeout",type:"checkbox"})]})]}),p.jsx("button",{className:"w-full py-2 px-4 bg-secondary text-black rounded-2xl",onClick:x,children:"Clear data & reset"}),p.jsx("button",{className:"w-full py-2 px-4 bg-primary text-white rounded-2xl",onClick:l,children:"LogOut"})]}):p.jsx("button",{className:"w-full py-2 px-4 bg-primary text-white rounded-2xl",onClick:i,children:"Login With Twitch"})]})}function Yt(){const e=D(n=>n.channel),[t,s]=A.useState(!e),o=()=>s(n=>!n);return p.jsxs(p.Fragment,{children:[p.jsx("button",{className:"absolute bottom-0 right-0 border-2 border-primary p-2 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 text-4lg outline-none",onClick:o,children:p.jsx(Vt,{})}),p.jsxs("div",{className:We("fixed bottom-0 right-0 bg-primary-dark w-screen h-screen z-20 transition-transform duration-200 flex justify-center items-center font-black",t?"translate-y-0 pointer-events-auto":"translate-y-full pointer-events-none"),children:[p.jsx("button",{className:"absolute top-2 right-2 border-2 border-primary text-primary p-2 rounded-lg",onClick:o,children:p.jsx(Jt,{})}),p.jsx(Xt,{})]})]})}const{VITE_TWITCH_CLIENT_ID:Kt}={VITE_TWITCH_CLIENT_ID:"xzi048c3hadw8527pkiqvfwd2dz3gm",BASE_URL:"/numerica-rothio-skin/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},es=()=>{const{accessToken:e}=Re(),[t,s]=A.useState(!1),[o,n]=A.useState(null);return[A.useCallback(async({broadcasterId:d,moderatorId:h,userId:g,duration:y,reason:u})=>{s(!0),n(null);try{console.log({broadcasterId:d,moderatorId:h,userId:g,duration:y,reason:u});const k=new URL("https://api.twitch.tv/helix/moderation/bans");k.searchParams.append("broadcaster_id",d),k.searchParams.append("moderator_id",h);const _=await fetch(k.toString(),{method:"POST",headers:{"Content-Type":"application/json","Client-Id":Kt,Authorization:`Bearer ${e}`},body:JSON.stringify({data:{user_id:g,duration:y<1?1:y,reason:u||"Numerica Rothio Skin - Timeout"}})});if(!_.ok)throw new Error(_.statusText);return await _.json()}catch(k){n(k)}finally{s(!1)}},[]),{loading:t,error:o}]},ts=es,{VITE_TWITCH_CLIENT_ID:ss}={VITE_TWITCH_CLIENT_ID:"xzi048c3hadw8527pkiqvfwd2dz3gm",BASE_URL:"/numerica-rothio-skin/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},os=()=>{const{accessToken:e}=Re(),[t,s]=A.useState(!1),[o,n]=A.useState(null),[a,d]=A.useState(null);return[A.useCallback(async({username:g})=>{s(!0),n(null);try{const y=new URL("https://api.twitch.tv/helix/users");y.searchParams.append("login",g);const u=await fetch(y.toString(),{method:"GET",headers:{"Content-Type":"application/json","Client-Id":ss,Authorization:`Bearer ${e}`}});if(!u.ok)throw new Error(u.statusText);const _=(await u.json()).data[0];return d(_),_}catch(y){n(y)}finally{s(!1)}},[]),{loading:t,error:o,data:a}]},is=os,Ne=1e4,$e=4,ns=1e3,rs=40,Le=Array.from({length:8},(e,t)=>new Audio(`/bubble-${t}.mp3`));function cs(){const{isAuthenticated:e}=Ae(),t=D(v=>v.channel),s=D(v=>v.volume),o=D(v=>v.enableTimeout),n=D(v=>v.timeoutBase),a=D(v=>v.timeoutMultiplier),d=D(v=>v.timeoutReason),h=D(v=>v.banMods),{status:g,number:y,user:u,maxScore:k,maxScoreUser:_,setGameState:C}=Ve(),[r,i]=A.useState(null),[l]=ts(),[x,{data:m}]=is(),c=A.useRef(null),f=A.useRef({duration:Ne,numberOfBubbles:$e,volume:s});A.useEffect(()=>{e&&x({username:t})},[]),A.useEffect(()=>{const v=new URL(window.location.href),S=new URLSearchParams(v.hash.substr(1)),M=S.get("maxScore"),T=S.get("maxScoreUser"),b=Number(M),I=isFinite(b),O=b%1===0,j=b>0;!M||!T||!I||!O||!j||b<k||C(()=>({maxScore:b,maxScoreUser:T}))},[]),A.useEffect(()=>{if(!t)return;const v=new gt.Client({channels:[t]});return v.connect().catch(console.error),i(v),()=>{v.disconnect().catch(console.error)}},[t]);const E=A.useCallback((v,S,M,T)=>{if(T)return;const b=S["user-id"],I=S.displayName||S.username,O=!!S.mod;if(!b||!I)return;const j=Number(M.replace(/[^\D\d]+$/,"").replace(/^[^\D\d]+/,"")),H=isFinite(j),F=j%1===0,Q=j>0;!H||!F||!Q||C(N=>N.status===G.STARTED&&N.user===I?{}:j===N.number+1?j>N.maxScore?{status:G.STARTED,number:N.number+1,user:I,maxScore:N.number+1,maxScoreUser:I}:{status:G.STARTED,number:N.number+1,user:I}:(e&&o&&(a||n)&&m&&(h||!O)&&N.number>0&&l({broadcasterId:m.id,moderatorId:m.id,userId:b,duration:n+N.number*a,reason:d}),{status:N.number===0?G.IDLE:G.GAME_OVER,number:0,user:I}))},[C,l,e,o,a,n,m]);return A.useEffect(()=>{if(r)return r.on("message",E),()=>{r.removeListener("message",E)}},[r,E]),A.useEffect(()=>{const v=Te(0,y,50)/Te(5,k,50);f.current={duration:Math.round(Ee(Ne,ns,v)),numberOfBubbles:Math.round(Ee($e,rs,v)),volume:s}},[y,k,s]),A.useEffect(()=>{let v=null,S=0;const M=T=>{if(!c.current)return;const{duration:b,numberOfBubbles:I}=f.current;if(b/I<T-S){const H=Math.random()*Math.PI*2,F=Math.sin(H)*25+50,Q=Math.cos(H)*25+50,N=document.createElement("div");N.classList.add("absolute"),N.classList.add("bg-white"),N.classList.add("rounded-full"),N.classList.add("top-1/2"),N.classList.add("left-1/2"),N.classList.add("-translate-y-1/2"),N.classList.add("-translate-x-1/2"),N.classList.add("animate-bubble"),N.style.setProperty("--target-top",`${F}%`),N.style.setProperty("--target-left",`${Q}%`),N.style.setProperty("--animation-duration",`${b}ms`),c.current.appendChild(N),setTimeout(()=>{const{volume:P}=f.current;if(P>0){const Z=Le[Math.floor(Math.random()*Le.length)];Z.volume=P,Z.play()}},Math.floor(b*.67)),setTimeout(()=>{var P;(P=c.current)==null||P.removeChild(N)},b),S=T}v=requestAnimationFrame(M)};return v=requestAnimationFrame(M),()=>{v&&cancelAnimationFrame(v)}},[]),p.jsxs("div",{className:"relative group",children:[p.jsxs("div",{className:"relative flex items-center justify-center w-[400px] h-[400px] rounded-full",children:[[y-1,y].map(v=>v<0?null:p.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-10 w-[200px] h-[200px] flex justify-center items-center bg-black p-4 rounded-full overflow-hidden mix-blend-screen contrast-[100]",children:p.jsx("span",{className:We("text-8xl font-bold leading-tight text-white blur-[1px]",v===y?"animate-bubble-fade-in":"animate-bubble-fade-out opacity-0"),children:v})},v)),p.jsxs("div",{className:"absolute -inset-[50%]",children:[p.jsx("div",{className:"absolute inset-0 bg-primary-circle"}),p.jsx("div",{className:"absolute inset-0 bg-black blur-lg contrast-[100] flex items-center justify-center mix-blend-multiply",ref:c,children:p.jsx("div",{className:"bg-white w-[200px] h-[200px] rounded-full"})})]})]}),p.jsxs("p",{className:"text-xl font-bold text-white bg-primary py-2 px-6 rounded-3xl absolute top-0 left-1/2 -translate-x-1/2 whitespace-nowrap text-center",children:["Max Score: ",k,_&&p.jsxs(p.Fragment,{children:[p.jsx("br",{}),"by ",_]})]}),(g===G.GAME_OVER||g===G.STARTED)&&p.jsx("p",{className:"text-xl font-bold text-white bg-primary py-2 px-6 rounded-3xl absolute bottom-0 left-1/2 -translate-x-1/2 whitespace-nowrap text-center",children:g===G.GAME_OVER?`Blame on ${u}!`:u}),p.jsx(Yt,{})]})}export{cs as default};
